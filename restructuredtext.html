<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml">
<head> 
<link rel="Stylesheet" type="text/css" href="css/style.css" /> 
<title>Jerry的个人维基</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
</head> 
<body> 
    <div id="navbar">
    	<ul>
    		<li> <a href="http://jerrypeng.me">Blog</a> </li>
    		<li> <a class="activated" href="index.html">WIKI</a> </li>
    		<li> <a href="https://github.com/moonranger">Github</a> </li>
    		<li> <a href="about.html">About</a> </li>
    		<li class="search">
                <form action="http://www.google.com/search" method="get">
                    <input name="sitesearch" value="http://wiki.jerrypeng.me/" type="hidden" />
                    <input name="hl" value="zh-CN" type="hidden" />
                    <input name="ie" value="UTF-8" type="hidden" />
                    <input size="25" name="q" id="query" value="Search..." type="text" 
                        onfocus="if( this.value=='Search...') {this.value='' };" 
                        onblur="if( this.value=='') {this.value='Search...' };" />
                </form>
            </li>
    	</ul>
    </div>
    <div id="content">

<h1 id="toc_1"> reStructuredText</h1>
<div class="toc">
<ul>
<li><a href="#toc_1"> reStructuredText</a></li>
<ul>
<li><a href="#toc_1.1">1. TJLUG ReST分享</a></li>
<li><a href="#toc_1.2">2. 生成s5 slide</a></li>
<li><a href="#toc_1.3">3. 用sphinx生成中文PDF</a></li>
<ul>
<li><a href="#toc_1.3.1">3.1. 中文字体</a></li>
<li><a href="#toc_1.3.2">3.2. 中文首行缩进</a></li>
</ul>
</ul>
</ul>
</div>

<h2 id="toc_1.1">1. TJLUG ReST分享</h2>
<p>
Slides: <a href="rest-tjlug/index.html">rest-tjlug/index.html</a>
</p>

<h2 id="toc_1.2">2. 生成s5 slide</h2>
<p>
可以用rst2s5来生成s5 slides，下面是一个样例:
</p>

<pre class="brush: plain;">
================
rst2s5幻灯片演示
================

------------
这里是副标题
------------

为什么要选择reStructuredText
----------------------------
文档格式众多，为什么要选择reStructuredText呢？

* 纯文本，简易的标记语言
* 易学、易用
* 工具链完善，可以轻松转换到HTML，PDF，S5 Slide，TeX等格式

嵌入图片
--------
嵌入图片的效果是什么样的呢？

    .. image:: funny.jpg
    
</pre>

<p>
效果：<a href="rst2s5-sample/index.html">rst2s5-sample/index.html</a>
</p>

<h2 id="toc_1.3">3. 用sphinx生成中文PDF</h2>

<h3 id="toc_1.3.1">3.1. 中文字体</h3>
<p>
修改sphinx工程的conf.py，加入以下内容：
</p>

<pre class="brush: python;">
latex_elements = {
...
# Additional stuff for the LaTeX preamble.
'preamble': '''
\usepackage{xeCJK}
\setCJKmainfont[BoldFont=SimHei, ItalicFont=KaiTi_GB2312]{SimSun}
\setCJKmonofont[Scale=0.9]{Droid Sans Mono}
\setCJKfamilyfont{song}[BoldFont=SimSun]{SimSun}
\setCJKfamilyfont{sf}[BoldFont=SimSun]{SimSun}
''',
}
</pre>

<p>
字体根据个人喜好可以随意更改，要查询Linux下可用的中文字体，用以下命令：
</p>

<pre class="brush: bash;">
fc-list :lang=zh
</pre>

<h3 id="toc_1.3.2">3.2. 中文首行缩进</h3>
<p>
仍然是更改latex_elements的preamble，加入一下内容：
</p>

<pre class="brush: python;">
\usepackage{indentfirst}
\setlength{\parindent}{2em}
</pre>

<p>
这样每个段落的首行会缩进两个字符。
</p>

<p>
最终的conf.py中的preamble配置：
</p>

<pre class="brush: python;">
latex_elements = {
...
# Additional stuff for the LaTeX preamble.
'preamble': '''
\usepackage{xeCJK}
\usepackage{indentfirst}
\setlength{\parindent}{2em}
\setCJKmainfont[BoldFont=SimHei, ItalicFont=KaiTi_GB2312]{SimSun}
\setCJKmonofont[Scale=0.9]{Droid Sans Mono}
\setCJKfamilyfont{song}[BoldFont=SimSun]{SimSun}
\setCJKfamilyfont{sf}[BoldFont=SimSun]{SimSun}
''',
}
</pre>
    </div>

    <!--
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'moonranger'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
    -->
 
</body> 
<script type="text/javascript" src="scripts/shCore.js"></script>
<script type="text/javascript" src="scripts/shBrushJScript.js"></script>
<script type="text/javascript" src="scripts/shBrushBash.js"></script>
<script type="text/javascript" src="scripts/shBrushCpp.js"></script>
<script type="text/javascript" src="scripts/shBrushCSharp.js"></script>
<script type="text/javascript" src="scripts/shBrushCss.js"></script>
<script type="text/javascript" src="scripts/shBrushDiff.js"></script>
<script type="text/javascript" src="scripts/shBrushErlang.js"></script>
<script type="text/javascript" src="scripts/shBrushGroovy.js"></script>
<script type="text/javascript" src="scripts/shBrushJava.js"></script>
<script type="text/javascript" src="scripts/shBrushJScript.js"></script>
<script type="text/javascript" src="scripts/shBrushPerl.js"></script>
<script type="text/javascript" src="scripts/shBrushPhp.js"></script>
<script type="text/javascript" src="scripts/shBrushPlain.js"></script>
<script type="text/javascript" src="scripts/shBrushPython.js"></script>
<script type="text/javascript" src="scripts/shBrushRuby.js"></script>
<script type="text/javascript" src="scripts/shBrushScala.js"></script>
<script type="text/javascript" src="scripts/shBrushSql.js"></script>
<script type="text/javascript" src="scripts/shBrushXml.js"></script>
<script type="text/javascript" src="scripts/shBrushClojure.js"></script>

<link type="text/css" rel="stylesheet" href="styles/shCoreDefault.css"/>
<link type="text/css" rel="stylesheet" href="styles/shThemeRDark.css"/>
<script type="text/javascript">SyntaxHighlighter.all();</script>
</html> 
